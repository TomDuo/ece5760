% MATLAB script to generate a .h file with rotations of a given sprite
% Define the 3 channels of the initial sprite (the one facing up). We define this to be 0 degrees


lander_0_r = [   000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 255 255 255 255 255 255 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 000 255 255 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 255 000 000 255 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 255 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 255 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 255 000 000 255 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 000 000 000 000 255 255 000 000 000 000 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 255 255 255 255 255 255 255 255 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 255 000 000 000 000 000 000 000 000 255 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 255 000 000 000 000 000 000 000 000 255 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 255 255 255 255 255 255 255 255 255 255 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 255 255 255 000 000 000 000 000 000 000 000 000 000 000 000 255 255 255 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 ];
			   
lander_0_g = [   000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 255 255 255 255 255 255 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 255 255 255 255 255 255 255 255 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 255 000 000 000 000 000 000 000 000 255 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 255 000 000 000 000 000 000 000 000 255 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 255 255 255 255 255 255 255 255 255 255 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 255 255 255 000 000 000 000 000 000 000 000 000 000 000 000 255 255 255 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 ];
			   
lander_0_b =  [000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 255 255 255 255 255 255 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 000 255 255 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 255 000 000 255 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 255 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 255 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 000 000 000 255 000 000 255 000 000 000 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 000 000 000 000 255 255 000 000 000 000 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 255 000 000 000 000 000 000 255 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 255 255 255 255 255 255 255 255 255 255 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 255 255 000 000 000 000 000 000 000 000 255 255 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 255 000 000 000 000 000 000 000 000 255 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 255 000 255 255 255 255 255 255 255 255 255 255 000 255 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 255 255 255 255 255 255 255 255 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 000 255 255 255 255 255 255 000 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 255 000 000 000 000 000 255 255 255 255 000 000 000 000 000 255 000 000 000 000 000 000 000;
               000 000 000 000 000 000 255 255 255 000 000 000 000 000 255 255 000 000 000 000 000 255 255 255 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000;
               000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 000 ];
			   
%Lander Sprites         
lander_0_r  = uint8(lander_0_r);
lander_0_g  = uint8(lander_0_g);
lander_0_b  = uint8(lander_0_b);

lander_0 = uint8(convert24to8(lander_0_r, lander_0_g, lander_0_b));
         
for x = 5:5:90
    lander_p_r{x} = imrotate(lander_0_r, x, 'bilinear', 'crop');   
    lander_p_g{x} = imrotate(lander_0_g, x, 'bilinear', 'crop');  
    lander_p_b{x} = imrotate(lander_0_b, x, 'bilinear', 'crop');  
    lander_p{x} = convert24to8(lander_p_r{x}, lander_p_g{x}, lander_p_b{x});
end

for x = 5:5:90
    lander_n_r{x} = imrotate(lander_0_r, -x, 'bilinear', 'crop');
    lander_n_g{x} = imrotate(lander_0_g, -x, 'bilinear', 'crop');
    lander_n_b{x} = imrotate(lander_0_b, -x, 'bilinear', 'crop');
    lander_n{x} = uint8(convert24to8(lander_n_r{x}, lander_n_g{x}, lander_n_b{x}));
end

%Save this into a file that can be imported into the c code as a header
%file.

fileID = fopen('sprites.h','w');


%Make 3D array of all the 2D rotation options.
fprintf(fileID, '//3D Array of all Lander Rotations (-90->90)\n');

    fprintf(fileID, 'char landers[37][30][30]={\n');                   
    %populate the negative rotations
        
    %print -90 to -5 Lander Sprites
    for a=90:-5:5
        fprintf(fileID, '{');
        for x = 1:30
            if x == 1
                fprintf(fileID,'{');
            else
                fprintf(fileID,' {');
            end
            fprintf(fileID,'%3d, ', lander_n{a}(x,1:end-1));
            if x ~= length(lander_n{a})
                fprintf(fileID,'%3d},\n', lander_n{a}(x,end));
            else
                fprintf(fileID, '%3d}', lander_n{a}(x,end));
            end
        end
        fprintf(fileID, '},\n\n');                              
    end
    
    %Print 0 Lander Sprite
    fprintf(fileID, '{');
    for x = 1:30
        if x == 1
            fprintf(fileID,'{');
        else
            fprintf(fileID,' {');
        end
        fprintf(fileID,'%3d, ', lander_0(x,1:end-1));
        if x ~= length(lander_0)
            fprintf(fileID,'%3d},\n', lander_0(x,end));
        else
            fprintf(fileID, '%3d}', lander_0(x,end));
        end
    end
    fprintf(fileID, '},\n\n');                              
    
    %print 5 to 90 Lander Sprites
    for a=5:5:90
        fprintf(fileID, '{');
        for x = 1:30
            if x == 1
                fprintf(fileID,'{');
            else
                fprintf(fileID,' {');
            end
            fprintf(fileID,'%3d, ', lander_p{a}(x,1:end-1));
            if x ~= length(lander_p{a})
                fprintf(fileID,'%3d},\n', lander_p{a}(x,end));
            else
                fprintf(fileID, '%3d}', lander_p{a}(x,end));
            end
        end
        if a ~= 90
            fprintf(fileID, '},\n\n');   
        else
            fprintf(fileID, '}');
        end
    end
    
    fprintf(fileID, '};\n\n');
    


    
fclose(fileID);
